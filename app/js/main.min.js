var SliderWidget=function(){var t=function(t){var e=$(t)[0],i=$(e.handle).parent().closest(".filter__slider"),n=i.find(".filter__slider-input_from"),s=i.find(".filter__slider-input_to");n.val($(e.values)[0]),s.val($(e.values)[1]);var r=$("#filter__slider").find("input");r.on("change",function(){var t=n.val(),e=s.val(),i=$(".filter__slider-element");t<i.data("min")?n.val(i.data("min")):e>i.data("max")&&s.val(i.data("max")),$(".filter__slider-element").slider("values",[t,e])})};return{init:function(){$(".filter__slider-element").each(function(){var e=$(this),i=e.parent(),n=i.find(".filter__slider-input_from"),s=i.find(".filter__slider-input_to"),r=e.data("min"),a=e.data("max");n.val(r),s.val(a),e.slider({range:!0,min:r,max:a,step:5,values:[r,a],slide:function(e,i){t(i)},create:function(e,i){t(i)}})})}}}(),RatingWidget=function(){var t=function(t){for(var e=[],i=0;5>i;i++){var n=t>i?"products__rating-stars-item products__rating-stars-item_filled":"products__rating-stars-item",s=$("<li>",{"class":n});e.push(s)}return e},e=function(e,i){var n=$("<ul>",{"class":"products__rating-stars",html:t(e)}),s=$("<div>",{"class":"products__rating-amount",text:e});i.append([n,s])};return{init:function(){$(".products__rating").each(function(){var t=$(this),i=parseInt(t.data("rating"));e(i,t)})}}}(),ViewStateChange=function(){var t="",e=function(e){var n=e.closest(".sort__view-item"),s=n.data("view"),r=$("#products-list"),a="products__list_",l=a+s;""==t&&(t=r.attr("class")),i(e),r.attr("class",t+" "+l)},i=function(t){t.closest(".sort__view-item").addClass("active").siblings().removeClass("active")};return{init:function(){$(".sort__view-link").on("click",function(t){t.preventDefault(),e($(this))})}}}(),Slideshow=function(){var t=function(t){var e=t.closest(".products__slideshow"),i=t.find("img").attr("src"),n=e.find(".products__slideshow-img");t.closest(".products__slideshow-item").addClass("active").siblings().removeClass("active"),n.fadeOut(function(){$(this).attr("src",i).fadeIn()})};return{init:function(){$(".products__slideshow-link").on("click",function(e){e.preventDefault();var i=$(this);t(i)})}}}(),Accordeon=function(){var t=function(t){var e=t.closest(".filter__item"),i=e.find(".filter__content");otherContent=t.closest(".filter").find(".filter__content"),e.hasClass("active")?(e.removeClass("active"),i.stop(!0,!0).slideUp()):(otherContent.slideUp().closest(".filter__item").removeClass("active"),e.addClass("active"),i.stop(!0,!0).slideDown())};return{init:function(){$(".filter__title").on("click",function(e){e.preventDefault(),t($(this))})}}}();$(document).ready(function(){$(".filter").length&&Accordeon.init(),$(".products__slideshow").length&&Slideshow.init(),ViewStateChange.init(),$(".products__rating").length&&RatingWidget.init(),$(".filter__slider-element").length&&SliderWidget.init(),$(".sort__select-elem").length&&$(".sort__select-elem").select2({minimumResultsForSearch:1/0}),$(".filter__reset").on("click",function(t){t.preventDefault();var e=$(this),i=e.closest(".filter__item"),n=i.find("input:checkbox");n.each(function(){$(this).removeProp("checked")})}),$(".attention__text").columnize({width:500})});